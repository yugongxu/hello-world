<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OJBench Leaderboard</title>
    <style>
        /* Base Styles */
        body {
            font-family: "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f8f9fa;
            padding: 20px;
            color: #222;
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 1100px; /* Controls total width */
            background: white;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            border-radius: 12px;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 32px; /* Larger Title */
            font-weight: 700;
            color: #111;
        }

        /* Button Group */
        .btn-group {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .toggle-btn {
            padding: 12px 30px;
            border: 2px solid #e0e0e0;
            background: white;
            color: #555;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .toggle-btn:hover {
            border-color: #bbb;
            background: #f9f9f9;
        }

        .toggle-btn.active {
            background-color: #222;
            color: white;
            border-color: #222;
        }

        /* Table Styles */
        .table-responsive {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 16px; /* Larger font for data */
            text-align: center;
        }

        /* Header Styling */
        thead th {
            font-weight: 700;
            padding: 15px 10px;
            background-color: #fff;
            font-size: 18px; /* Larger font for headers */
        }

        thead tr:first-child th {
            border-top: 2px solid #000;
        }

        thead tr:last-child th {
            border-bottom: 2px solid #000; /* Distinct header bottom */
        }

        /* Column Width & Alignment */
        th.model-col, td.model-name {
            text-align: left;
            padding-left: 10px;
            width: 25%; /* Limit width to reduce gap */
            white-space: nowrap;
        }

        /* Row Styling */
        tbody tr {
            border-bottom: 1px solid #ddd; /* Distinct row lines */
        }
        
        tbody tr:last-child {
            border-bottom: 2px solid #000;
        }

        tbody tr td {
            padding: 14px 10px;
            color: #333;
        }

        tbody tr:hover {
            background-color: #f2f2f2; /* Hover effect */
        }

        /* Data Formatting */
        .score-cell {
            font-feature-settings: "tnum";
            font-weight: 500;
        }

        .empty-data {
            color: #ccc;
        }
        
        /* Rank Badge */
        .rank-badge {
            display: inline-block;
            width: 20px;
            color: #888;
            font-size: 14px;
            margin-right: 8px;
            text-align: right;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>OJBench Leaderboard</h1>

    <!-- Toggle Buttons (English) -->
    <div class="btn-group">
        <button class="toggle-btn active" onclick="switchView('overall')" id="btn-overall">
            Overall (Pass@)
        </button>
        <button class="toggle-btn" onclick="switchView('difficulty')" id="btn-difficulty">
            By Difficulty (Pass Rate)
        </button>
    </div>

    <div class="table-responsive">
        <table id="leaderboard-table">
            <thead id="table-head">
                <!-- Headers injected via JS -->
            </thead>
            <tbody id="table-body">
                <!-- Data injected via JS -->
            </tbody>
        </table>
    </div>
</div>

<script>
    // ================= DATA SOURCE =================
    // Combined data structure for easier sorting
    // overall: [Py@1, Py@8, Cpp@1, Cpp@8]
    // difficulty: [Py_Easy, Py_Med, Py_Hard, Cpp_Easy, Cpp_Med, Cpp_Hard]
    const rawData = [
        {
            name: "GLM-4.7",
            overall: ["50.11", "67.67", "50.75", "68.10"],
            difficulty: ["92.71", "70.73", "23.08", "93.06", "75.16", "21.26"]
        },
        {
            name: "GLM-5",
            overall: ["55.01", "71.12", "54.88", "71.55"],
            difficulty: ["90.62", "75.63", "30.13", "94.10", "77.69", "27.38"]
        },
        {
            name: "doubao-seed-2.0-pro",
            overall: ["47.22", "59.05", "54.86", "68.10"],
            difficulty: ["94.44", "77.69", "27.04", "92.71", "68.04", "19.04"]
        },
        // {
        //     name: "doubao-seed-2.0-code-preview",
        //     overall: [null, null, null, null],
        //     difficulty: [null, null, null, null, null, null]
        // },
        {
            name: "Minimax-m2.5",
            overall: ["38.09", "53.88", "41.38", "59.48"],
            difficulty: ["85.07", "58.86", "9.62",  "87.50", "59.65", "14.85"]
        },
        {
            name: "DeepSeek-v3.2",
            overall: ["48.38", "64.66", "51.72", "69.83"],
            difficulty: ["90.97", "69.94", "20.73", "91.67", "75.16", "23.61"]
        },
        {
            name: "Kimi-2.5-thinking",
            overall: ["54.74", "72.84", "56.95", "74.14"],
            difficulty: ["93.06", "73.89", "30.02", "93.40", "77.69", "31.73"]
        },
        {
            name: "claude-opus-4.6-thinking",
            overall: ["60.27", "72.84", "67.15", "76.72"],
            difficulty: ["92.01", "85.58", "33.44", "93.06", "86.85", "45.88"]
        },
        {
            name: "Gemini-3.0-pro",
            overall: ["58.84", "71.98", "69.99", "79.74"],
            difficulty: ["91.67", "82.44", "32.80", "95.14", "89.87", "48.82"]
        }
    ];

    // ================= SORTING LOGIC =================
    // Sort by Cpp Pass@1 (Index 2 in overall array) descending
    const sortedData = rawData.sort((a, b) => {
        const scoreA = a.overall[2] ? parseFloat(a.overall[2]) : -1;
        const scoreB = b.overall[2] ? parseFloat(b.overall[2]) : -1;
        return scoreB - scoreA;
    });

    // ================= RENDER LOGIC =================
    const thead = document.getElementById('table-head');
    const tbody = document.getElementById('table-body');
    const btnOverall = document.getElementById('btn-overall');
    const btnDifficulty = document.getElementById('btn-difficulty');

    function switchView(viewType) {
        if (viewType === 'overall') {
            btnOverall.classList.add('active');
            btnDifficulty.classList.remove('active');
            renderOverallTable();
        } else {
            btnDifficulty.classList.add('active');
            btnOverall.classList.remove('active');
            renderDifficultyTable();
        }
    }

    // 1. Render Overall (Cpp Left, Python Right)
    function renderOverallTable() {
        thead.innerHTML = `
            <tr>
                <th rowspan="2" class="model-col">Model</th>
                <th colspan="2" style="border-bottom: 1px solid #ccc; border-right:1px solid #ddd">C++</th>
                <th colspan="2" style="border-bottom: 1px solid #ccc;">Python</th>
            </tr>
            <tr>
                <th>Pass@1</th>
                <th style="border-right:1px solid #ddd">Pass@8</th>
                <th>Pass@1</th>
                <th>Pass@8</th>
            </tr>
        `;

        tbody.innerHTML = '';
        sortedData.forEach((item, index) => {
            const row = document.createElement('tr');
            // Original Indices: 0=Py1, 1=Py8, 2=Cpp1, 3=Cpp8
            // Target Order: Cpp1, Cpp8 | Py1, Py8
            const scores = item.overall;
            const displayOrder = [2, 3, 0, 1]; 

            let cellsHtml = '';
            displayOrder.forEach((idx, i) => {
                const val = scores[idx];
                const displayScore = val ? val : '<span class="empty-data">-</span>';
                // Add vertical divider after Cpp columns (index 1 in our new loop)
                const borderStyle = (i === 1) ? 'border-right:1px solid #ddd;' : '';
                
                // Bold the sorting column (Cpp@1)
                const weightStyle = (idx === 2) ? 'font-weight:700;' : '';

                cellsHtml += `<td class="score-cell" style="${borderStyle} ${weightStyle}">${displayScore}</td>`;
            });

            row.innerHTML = `<td class="model-name"><span class="rank-badge">${index+1}</span>${item.name}</td>${cellsHtml}`;
            tbody.appendChild(row);
        });
    }

    // 2. Render Difficulty (Cpp Left, Python Right)
    function renderDifficultyTable() {
        thead.innerHTML = `
            <tr>
                <th rowspan="2" class="model-col">Model</th>
                <th colspan="3" style="border-bottom: 1px solid #ccc; border-right:1px solid #ddd">C++ Pass Rate</th>
                <th colspan="3" style="border-bottom: 1px solid #ccc;">Python Pass Rate</th>
            </tr>
            <tr>
                <th>Easy</th>
                <th>Medium</th>
                <th style="border-right:1px solid #ddd">Hard</th>
                <th>Easy</th>
                <th>Medium</th>
                <th>Hard</th>
            </tr>
        `;

        tbody.innerHTML = '';
        sortedData.forEach((item, index) => {
            const row = document.createElement('tr');
            // Original Indices: 0-2 (Py), 3-5 (Cpp)
            // Target Order: 3-5 (Cpp) | 0-2 (Py)
            const scores = item.difficulty;
            const displayOrder = [3, 4, 5, 0, 1, 2];

            let cellsHtml = '';
            displayOrder.forEach((idx, i) => {
                const val = scores[idx];
                const displayScore = val ? val : '<span class="empty-data">-</span>';
                // Add vertical divider after Cpp columns (index 2 in our new loop)
                const borderStyle = (i === 2) ? 'border-right:1px solid #ddd;' : '';
                
                cellsHtml += `<td class="score-cell" style="${borderStyle}">${displayScore}</td>`;
            });

            row.innerHTML = `<td class="model-name"><span class="rank-badge">${index+1}</span>${item.name}</td>${cellsHtml}`;
            tbody.appendChild(row);
        });
    }

    // Initialize
    switchView('overall');

</script>

</body>
</html>
